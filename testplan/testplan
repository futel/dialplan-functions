outgoing dialtone tests:
- notes
  - valid numbers are
    - domestic PSTN numbers (10 digit prefixed by 1, +1, 0111, or nothing)
    - international PSTN numbers (12 digit prefixed by 52 or 01152)
    - valid 3 digit numbers (911, 933, 211, ...XXX)
  - Client behavior we want to test is
    - test our dialtone
      - first client send is #
      - ATAs send this on pickup, SIP client starts call with #
      - first context is either dialtone or user navigates to dialtone
    - test client-provided dialtone
      - first client send is number
  - dial 933 to test emergency calls, do not dial 911!
- 0 sends to operator from dialtone
- valid versions of 5035551212, 8005551212, 5555551212 send to operator
- 933 acts appropriately for an emergency call (destination or notify)
- other valid 3 digit calls call their destinations
- caller ID is appropriate
- # from dialtone sends to default context
- call terminates correctly after timeout XXX

outgoing operator tests:
- calling operator plays intro, then music while operators are called
- calling operator dials all operators
- answering operator call plays operator menu
- accepting operator call connects caller with operator if one or more callers are waiting
- accepting operator call plays message if no callers are waiting
- accepting operator call terminates all ringing operators if no other callers are waiting
- accepting operator call plays message for all operator menus if no other callers are waiting
- accepting operator has no effect on other calls if other callers are waiting
- denying operator call hangs up on operator
- denying operator call does not affect caller
- denying operator call does not affect ringing operators
- denying operator call does not affect other operators hearing menu
- caller gets operator voicemail if no operator accepts before timeout
- caller gets hangup after voicemail ends
- caller gets hangup after operator hangup
- operator gets hangup after caller hangup

dialplan ivr tests:
- intro plays once, then menu repeats
- all defined entries can be chosen
- undefined entries restart menu
- top menu starts with language choice intro
- * restarts menu in Spanish
- # at top menu restarts menu
- # at non-top menu goes to parent menu
- 0 at top menu chooses operator
- 0 at non-top menu restarts menu
- no action terminates correctly after XXX iterations

dialplan top ivr tests:
- intro is spanish selection
- 9 emits silence and eventually times out
- 9 and then 1 emits silence and eventually times out
- do not enter 9 1 1 from top ivr! Test this only on a modified installation which calls 933 instead of 911!
  - If modified for testing, 9 1 1  announces and then calls emergency

incoming call tests:
- Call test number from PSTN. Experience call.

asterisk tests:
- notes
  - each extension gets tranfered to asterisk differently, either immediately, or when it hits a context not implemented by the dialplan
- verify first context being heard
- perform outgoing dialtone tests after navigating to dialtone

other tests:
- metrics are generated from twilio
- metrics are generated from asterisk

tests to run:
- extension tests
  - perform for each extension
    - outgoing dialtone tests
    - # destination
    - outgoing operator tests
    - outgoing asterisk tests
- ivr tests
  - perform for each context reachable on the dialplan (ie before tranfer to asterisk)
    - outgoing top ivr tests  
    - dialplan ivr tests
- incoming call tests
- other tests

extension attributes:
- notes
  - fields: extension, #-destination, has-emergency, caller-id
- alleymaple outgoing_portland yes alleymaple
- bottles-and-cans-one outgoing_portland yes incoming_leet
- bottles-and-cans-two outgoing_portland yes incoming_leet
- cesar-chavez outgoing_portland yes cesar-chavez
- demo outgoing_safe no demo
- dome-basement outging_safe no incoming_leet
- dome-booth outgoing_safe no incoming_leet
- dome-garage outgoing no incoming_leet
- dome-office outgoing_safe no incoming_leet
- ghost-mountain outgoing yes ghost-mountain
- landline outging_ypsi yes ypsi
- r2d2 outging_safe yes r2d2
- ry4an-test outging_ypsi no incoming_leet
- sjac outging_safe no sjac
- test outging_safe no test
